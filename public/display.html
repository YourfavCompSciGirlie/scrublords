<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QueueWise - Public Display</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root {
      --primary: #00796b;
      --primary-light: #b2dfdb;
      --secondary: #004d40;
      --success: #2e7d32;
      --warning: #ff8f00;
      --danger: #c62828;
      --text: #333333;
      --text-light: #666666;
      --bg: #f5f5f5;
      --card-bg: #ffffff;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    
    .queue-display {
      height: 100vh;
      display: flex;
      flex-direction: column;
      padding: 1rem;
    }
    
    .header {
      background-color: var(--card-bg);
      padding: 0.75rem;
      border-radius: 0.5rem;
      margin-bottom: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    
    .clinic-name {
      font-size: 1.8rem;
      font-weight: bold;
      color: var(--primary);
    }
    
    .current-time {
      font-size: 1.2rem;
      font-family: monospace;
      color: var(--text-light);
    }
    
    .now-serving {
      background-color: var(--primary);
      border-radius: 0.5rem;
      padding: 1rem;
      margin-bottom: 1rem;
      text-align: center;
      color: white;
      box-shadow: 0 2px 8px rgba(0, 121, 107, 0.2);
    }
    
    .now-serving-title {
      font-size: 1.4rem;
      margin-bottom: 0.5rem;
      color: #e0f2f1;
    }
    
    .ticket-numbers {
      font-size: 3.5rem;
      font-weight: bold;
      letter-spacing: 0.3rem;
      font-family: 'Courier New', monospace;
      color: white;
    }
    
    .last-called {
      background-color: var(--card-bg);
      border-radius: 0.5rem;
      padding: 1rem;
      margin-bottom: 1rem;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      border: 1px solid rgba(0, 121, 107, 0.1);
    }
    
    .last-called-title {
      font-size: 1.2rem;
      margin-bottom: 0.3rem;
      color: var(--primary);
    }
    
    .last-called-number {
      font-size: 2.2rem;
      font-weight: bold;
      color: var(--text);
    }
    
    .status-container {
      display: flex;
      justify-content: space-between;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }
    
    .status-card {
      flex: 1;
      background-color: var(--card-bg);
      border-radius: 0.5rem;
      padding: 0.75rem;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      border: 1px solid rgba(0, 121, 107, 0.1);
    }
    
    .status-title {
      font-size: 1rem;
      margin-bottom: 0.3rem;
      color: var(--primary);
    }
    
    .status-value {
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--text);
    }
    
    .wait-time {
      color: var(--primary);
    }
    
    .on-time {
      color: var(--success);
    }
    
    .delayed {
      color: var(--warning);
    }
    
    .queue-list {
      background-color: var(--card-bg);
      border-radius: 0.5rem;
      padding: 0.75rem;
      flex-grow: 1;
      overflow-y: auto;
      max-height: 30vh;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      border: 1px solid rgba(0, 121, 107, 0.1);
    }
    
    .queue-list-title {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: var(--primary);
      border-bottom: 2px solid var(--primary-light);
      padding-bottom: 0.3rem;
    }
    
    .queue-item {
      display: flex;
      justify-content: space-between;
      padding: 0.5rem 0;
      border-bottom: 1px solid rgba(0, 121, 107, 0.1);
      font-size: 0.95rem;
    }
    
    .queue-item:last-child {
      border-bottom: none;
    }
    
    .queue-number {
      font-weight: bold;
      color: var(--text);
    }
    
    .queue-status {
      padding: 0.2rem 0.6rem;
      border-radius: 1rem;
      font-size: 0.8rem;
      font-weight: 500;
    }
    
    .status-waiting {
      background-color: rgba(255, 213, 79, 0.2);
      color: #b38f00;
    }
    
    .status-processing {
      background-color: rgba(76, 175, 80, 0.2);
      color: #2e7d32;
    }
    
    .footer {
      text-align: center;
      margin-top: 0.5rem;
      color: var(--text-light);
      font-size: 0.8rem;
    }
    
    /* Animation for current ticket */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.03); }
      100% { transform: scale(1); }
    }
    
    .pulse {
      animation: pulse 2s infinite;
    }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .clinic-name {
        font-size: 1.5rem;
      }
      
      .ticket-numbers {
        font-size: 2.5rem;
      }
      
      .status-container {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="queue-display">
    <div class="header">
      <div class="clinic-name">Tshwane Central Clinic</div>
      <div class="current-time" id="currentTime">--:-- --</div>
    </div>
    
    <div class="now-serving pulse">
      <div class="now-serving-title">NOW SERVING</div>
      <div class="ticket-numbers" id="nowServing">105, 106, 107</div>
    </div>
    
    <div class="last-called">
      <div class="last-called-title">LAST CALLED</div>
      <div class="last-called-number" id="lastCalled">104</div>
    </div>
    
    <div class="status-container">
      <div class="status-card">
        <div class="status-title">AVERAGE WAIT</div>
        <div class="status-value wait-time" id="waitTime">25 mins</div>
      </div>
      <div class="status-card">
        <div class="status-title">STATUS</div>
        <div class="status-value on-time" id="clinicStatus">ON TIME</div>
      </div>
      <div class="status-card">
        <div class="status-title">WAITING</div>
        <div class="status-value" id="patientsWaiting">18</div>
      </div>
    </div>
    
    <div class="queue-list">
      <div class="queue-list-title">CURRENT QUEUE</div>
      
      <div class="queue-item">
        <span class="queue-number">#108</span>
        <span class="queue-status status-processing">IN CONSULTATION</span>
      </div>
      <div class="queue-item">
        <span class="queue-number">#109</span>
        <span class="queue-status status-waiting">WAITING</span>
      </div>
      <div class="queue-item">
        <span class="queue-number">#110</span>
        <span class="queue-status status-waiting">WAITING</span>
      </div>
      <div class="queue-item">
        <span class="queue-number">#111 (Priority)</span>
        <span class="queue-status status-waiting">WAITING</span>
      </div>
      <div class="queue-item">
        <span class="queue-number">#112</span>
        <span class="queue-status status-waiting">WAITING</span>
      </div>
    </div>
    
    <div class="footer">
      QueueWise Smart Scheduling System | Updated: <span id="lastUpdated">10:15 AM</span>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Update current time
    function updateTime() {
      const now = new Date();
      const timeString = now.toLocaleTimeString('en-US', {
        hour: '2-digit',
        minute: '2-digit',
        hour12: true
      }).toUpperCase();
      document.getElementById('currentTime').textContent = timeString;
    }
    
    // Update every second
    updateTime();
    setInterval(updateTime, 1000);
    
    // Simulate queue updates (in real app, this would come from backend)
    function simulateQueueUpdate() {
      const nowServing = document.getElementById('nowServing');
      const lastCalled = document.getElementById('lastCalled');
      const patientsWaiting = document.getElementById('patientsWaiting');
      const lastUpdated = document.getElementById('lastUpdated');
      
      // These would be API calls in production
      const currentNumbers = nowServing.textContent.split(', ');
      const nextNumber = parseInt(currentNumbers[currentNumbers.length - 1]) + 1;
      
      // Rotate numbers
      currentNumbers.shift();
      currentNumbers.push(nextNumber.toString());
      nowServing.textContent = currentNumbers.join(', ');
      lastCalled.textContent = (nextNumber - 1).toString();
      
      // Update waiting count
      const currentWaiting = parseInt(patientsWaiting.textContent);
      patientsWaiting.textContent = Math.max(0, currentWaiting - 1);
      
      // Update timestamp
      const now = new Date();
      lastUpdated.textContent = now.toLocaleTimeString('en-US', {
        hour: '2-digit',
        minute: '2-digit',
        hour12: true
      }).toUpperCase();
      
      // Randomly change status for demo
      if (Math.random() > 0.7) {
        const status = document.getElementById('clinicStatus');
        if (status.textContent === 'ON TIME') {
          status.textContent = 'DELAYED';
          status.classList.remove('on-time');
          status.classList.add('delayed');
        } else {
          status.textContent = 'ON TIME';
          status.classList.remove('delayed');
          status.classList.add('on-time');
        }
      }
    }
    
    // Simulate queue changes every 15-45 seconds
    setInterval(simulateQueueUpdate, 15000 + Math.random() * 30000);
    
    // Initial update
    simulateQueueUpdate();
  </script>
</body>
</html>